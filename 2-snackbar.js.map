{"version":3,"file":"2-snackbar.js","sources":["../src/js/2-snackbar.js"],"sourcesContent":["import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nconst form = document.querySelector('.form');\r\nform.addEventListener('submit', onSubmitForm);\r\n\r\nconst stateDictionary = {\r\n  FULFILLED: 'fulfilled',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nfunction onSubmitForm(event) {\r\n  event.preventDefault();\r\n\r\n  const formData = new FormData(event.target);\r\n  const formDataObj = Object.fromEntries(formData.entries());\r\n\r\n  makePromise(formDataObj)\r\n    .then(({ delay, state }) => {\r\n      iziToastAction(delay, state);\r\n    })\r\n    .catch(({ delay, state }) => {\r\n      iziToastAction(delay, state);\r\n    });\r\n\r\n  event.target.reset();\r\n}\r\n\r\nfunction makePromise({ delay, state }) {\r\n  return new Promise((resolve, reject) => {\r\n    setTimeout(() => {\r\n      if (state === stateDictionary.FULFILLED) {\r\n        resolve({ delay, state });\r\n      } else {\r\n        reject({ delay, state });\r\n      }\r\n    }, Number(delay));\r\n  });\r\n}\r\n\r\nfunction iziToastAction(delay, state) {\r\n  const message =\r\n    state === stateDictionary.FULFILLED\r\n      ? `✅ Fulfilled promise in ${delay}ms`\r\n      : `❌ Rejected promise in ${delay}ms`;\r\n  const bgColor = state === stateDictionary.FULFILLED ? '#b6d7a8' : '#EA9999';\r\n\r\n  iziToast.show({\r\n    icon: false,\r\n    backgroundColor: `${bgColor}`,\r\n    message: `${message}`,\r\n    messageColor: 'black',\r\n    messageSize: '16',\r\n    position: 'topRight',\r\n    close: false,\r\n    displayMode: 1,\r\n  });\r\n}"],"names":["form","onSubmitForm","stateDictionary","event","formData","formDataObj","makePromise","delay","state","iziToastAction","resolve","reject","message","bgColor","iziToast"],"mappings":"oGAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,MAAMC,EAAkB,CACtB,UAAW,YACX,SAAU,UACZ,EAEA,SAASD,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAW,IAAI,SAASD,EAAM,MAAM,EACpCE,EAAc,OAAO,YAAYD,EAAS,QAAS,CAAA,EAEzDE,EAAYD,CAAW,EACpB,KAAK,CAAC,CAAE,MAAAE,EAAO,MAAAC,KAAY,CAC1BC,EAAeF,EAAOC,CAAK,CACjC,CAAK,EACA,MAAM,CAAC,CAAE,MAAAD,EAAO,MAAAC,KAAY,CAC3BC,EAAeF,EAAOC,CAAK,CACjC,CAAK,EAEHL,EAAM,OAAO,OACf,CAEA,SAASG,EAAY,CAAE,MAAAC,EAAO,MAAAC,GAAS,CACrC,OAAO,IAAI,QAAQ,CAACE,EAASC,IAAW,CACtC,WAAW,IAAM,CACXH,IAAUN,EAAgB,UAC5BQ,EAAQ,CAAE,MAAAH,EAAO,MAAAC,CAAK,CAAE,EAExBG,EAAO,CAAE,MAAAJ,EAAO,MAAAC,CAAK,CAAE,CAE/B,EAAO,OAAOD,CAAK,CAAC,CACpB,CAAG,CACH,CAEA,SAASE,EAAeF,EAAOC,EAAO,CACpC,MAAMI,EACJJ,IAAUN,EAAgB,UACtB,0BAA0BK,CAAK,KAC/B,yBAAyBA,CAAK,KAC9BM,EAAUL,IAAUN,EAAgB,UAAY,UAAY,UAElEY,EAAS,KAAK,CACZ,KAAM,GACN,gBAAiB,GAAGD,CAAO,GAC3B,QAAS,GAAGD,CAAO,GACnB,aAAc,QACd,YAAa,KACb,SAAU,WACV,MAAO,GACP,YAAa,CACjB,CAAG,CACH"}